<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Calendar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #F5F2EA;
            color: rgba(0, 0, 0, 0.5);
            padding: 20px;
        }

        .calendar {
            display: grid;
            grid-column: span 7;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            background-color: #F5F2EA;
            border-radius: 30px;
            border: 2px solid;
            min-height: 500px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        

        .calendar  div:first-child {
            border-bottom-left-radius: 30px;
            border-top-left-radius: 30px;
        }
        
        .calendar  div:last-child {
            border-bottom-right-radius: 30px;
            border-top-right-radius: 30px;
        }

        .day div:last-child {
            border-radius: 40px;
        }


        .header-calendar {
            padding: 50px;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .day {
            padding: 20px;
            border: 1px solid #ccc;
            min-height: 150px;
            position: relative;
        }

        .assignment {
            background-color: #b2f2b2;
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            transition: background-color 0.3s;
            font-size: 14px;
        }

        .assignment:hover {
            background-color: #9fdf9f;
        }

        button {
            padding: 5px 10px;
            background: none;
            margin: 0 20px 0 20px;
            border: none;
            color: rgba(0, 0, 0, 0.5);
            cursor: pointer;
        }

        #days-container {
            display: contents;
        }

        .week-range {
            font-size: 16px;
            font-weight: normal;
        }

        .date-number {
            display: inline-block;
            padding: 6px 10px;
            border-radius: 100%;
            font-weight: bold;
        }

        .date-number.today {
            background-color: #007bff;
            color: white;
        }

        .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='black' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }
    </style>
</head> 
<body style="background-color: #F5F2EA;">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <nav class="navbar navbar-dark fixed-top" style="background-color: #F4E6D4;">
    <div class="container-fluid">
      <button class="navbar-toggler me-2" type="button" data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand ms-1 text-dark" href="#">ClAssign</a>
    </div>
  </nav>

  <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasNavbarLabel">ClAssign</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
        <form class="d-flex mt-3" role="search">
          <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success" type="submit">Search</button>
        </form>
        <li class="nav-item">
          <a class="nav-link active" href="DashboardTeacher.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="#">Calendar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link d-flex justify-content-between align-items-center" data-bs-toggle="collapse" href="#enrolledMenu" role="button" aria-expanded="false" aria-controls="enrolledMenu">
            Enrolled
            <i class="bi bi-chevron-down rotate-icon"></i>
          </a>
          <div class="collapse" id="enrolledMenu">
            <ul class="ps-3" style="list-style-type: circle;">
              <li><a class="nav-link fw-bold" href="#"><strong>To-do</strong></a></li>
              <li><a class="nav-link" href="#">Pemrograman Web - 4B</a></li>
              <li><a class="nav-link" href="#">Interaksi Manusia Komputer - 4B</a></li>
              <li><a class="nav-link" href="#">Manajemen Basis Data - 4B</a></li>
              <li><a class="nav-link" href="#">Wawasan Persemenan - 4B</a></li>
            </ul>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="#">Archive Classes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="#">Settings</a>
        </li>
        <li class="nav-item">
          <button class="btn btn-primary mt-3 w-100" data-bs-toggle="modal" data-bs-target="#joinClassModal">
            Join Class
          </button>
        </li>
      </ul>
    </div>
  </div>

    <div class="container mt-3">
        <div class="d-flex justify-content-between align-items-center flex-wrap">
            <div>
                <select id="filterDosen" class="form-select" style="width: 300px;">
                    <option value="">Filter by Class</option>
                </select>
            </div>

            <div class="header-calendar d-flex gap-3 align-items-center justify-content-center flex-grow-1">
                <button onclick="changeWeek(-1)">&#9665</button>
                <div class="week-range" id="weekRange">Loading...</div>
                <button onclick="changeWeek(1)">&#9655</button>
            </div>

            <div style="width: 350px;">
                
            </div>
        </div>
    </div>

    
    <div class="calendar">
        <div id="days-container"></div>
    </div>

    <script>
    const tasks = [
        { date: '2025-04-21', title: 'Assignment: Trigger Exercise', time: '3:30 PM', color: '#b2f2b2' },
        { date: '2025-04-23', title: 'Assignment: 8 Golder Rules of Interface Design', time: '10:50 AM', color: '#ffcc99' },
        { date: '2025-04-22', title: 'Assignment: Quis', time: '2:00 PM', color: '#d5c2ff' },
        { date: '2025-05-18', title: 'Assignment : UTS Pemrograman Web', time: '11:59 PM', color: '#b2f2b2' },
        { date: '2025-05-16', title: 'Assignment : UTS Interaksi Manusia Komputer', time: '11:59 PM', color: '#b3d7ff'}
    ];

    const dayNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    const container = document.getElementById("days-container");
    const weekRange = document.getElementById("weekRange");

    let currentOffset = 0;

    function renderWeek(offset = 0) {
    container.innerHTML = "";
    const today = new Date();
    const startOfWeek = new Date(today);
    startOfWeek.setDate(today.getDate() - today.getDay() + offset * 7);

    const start = new Date(startOfWeek);
    const end = new Date(startOfWeek);
    end.setDate(end.getDate() + 6);

    weekRange.innerText = `${formatDate(start)} - ${formatDate(end)}`;

    for (let i = 0; i < 7; i++) {
        const dayDate = new Date(startOfWeek);
        dayDate.setDate(startOfWeek.getDate() + i);

        const yyyy = dayDate.getFullYear();
        const mm = String(dayDate.getMonth() + 1).padStart(2, '0');
        const dd = String(dayDate.getDate()).padStart(2, '0');
        const fullDate = `${yyyy}-${mm}-${dd}`;

        const dayTasks = tasks.filter(t => t.date === fullDate);

        const div = document.createElement("div");
        div.className = "day";

        const isToday = dayDate.toDateString() === today.toDateString();
        const dateClass = isToday ? "date-number today" : "date-number";
        div.innerHTML = `<div>${dayNames[dayDate.getDay()]}</div><div class="${dateClass}">${dd}</div>`;


        dayTasks.forEach(task => {
        const taskDiv = document.createElement("div");
        taskDiv.className = "assignment";
        taskDiv.style.backgroundColor = task.color;
        taskDiv.innerHTML = `${task.title}<br>${task.time}`;
        div.appendChild(taskDiv);
        });

        container.appendChild(div);
    }
    }


    function changeWeek(direction) {
        currentOffset += direction;
        renderWeek(currentOffset);
    }

    function formatDate(date) {
        const options = { month: 'short', day: 'numeric', year: 'numeric' };
        return date.toLocaleDateString('en-US', options);
    }

    // Render initial week
    renderWeek();
    </script>

</body>
</html>
